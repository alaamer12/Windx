<style>
    .ascii-tree-container {
        background-color: #1e1e1e;
        color: #d4d4d4;
        padding: 1.5rem;
        border-radius: 0.375rem;
        overflow-x: auto;
    }
    
    .ascii-tree-pre {
        font-family: 'Courier New', Consolas, Monaco, monospace;
        font-size: 0.875rem;
        line-height: 1.6;
        margin: 0;
        white-space: pre;
        tab-size: 4;
    }
    
    .ascii-tree-header {
        display: flex;
        justify-content: between;
        align-items: center;
        margin-bottom: 1rem;
        padding-bottom: 0.5rem;
        border-bottom: 1px solid #3e3e3e;
    }
    
    .ascii-tree-title {
        color: #4ec9b0;
        font-weight: 600;
        margin: 0;
    }
    
    .ascii-tree-actions {
        display: flex;
        gap: 0.5rem;
    }
    
    .copy-btn {
        background-color: #3e3e3e;
        color: #d4d4d4;
        border: 1px solid #555;
        padding: 0.25rem 0.75rem;
        border-radius: 0.25rem;
        font-size: 0.75rem;
        cursor: pointer;
        transition: all 0.2s ease;
    }
    
    .copy-btn:hover {
        background-color: #505050;
        border-color: #777;
    }
    
    .copy-btn.copied {
        background-color: #4ec9b0;
        border-color: #4ec9b0;
        color: #1e1e1e;
    }
    
    /* Syntax highlighting for ASCII tree */
    .ascii-tree-pre {
        /* Tree connectors */
        --connector-color: #858585;
        /* Node names */
        --node-color: #9cdcfe;
        /* Price values */
        --price-color: #ce9178;
        /* Node types */
        --type-color: #4ec9b0;
    }
</style>

<div class="ascii-tree-container">
    <div class="ascii-tree-header">
        <h6 class="ascii-tree-title">
            <i class="bi bi-code-square"></i> ASCII Tree Visualization
        </h6>
        <div class="ascii-tree-actions">
            <button class="copy-btn" onclick="copyAsciiTree()" id="copyBtn">
                <i class="bi bi-clipboard"></i> Copy
            </button>
        </div>
    </div>
    
    <pre class="ascii-tree-pre" id="asciiTreeContent">{{ ascii_tree }}</pre>
</div>

<script>
    function copyAsciiTree() {
        const content = document.getElementById('asciiTreeContent').textContent;
        const btn = document.getElementById('copyBtn');
        
        navigator.clipboard.writeText(content).then(function() {
            // Show success feedback
            btn.classList.add('copied');
            btn.innerHTML = '<i class="bi bi-check"></i> Copied!';
            
            // Reset after 2 seconds
            setTimeout(function() {
                btn.classList.remove('copied');
                btn.innerHTML = '<i class="bi bi-clipboard"></i> Copy';
            }, 2000);
        }).catch(function(err) {
            console.error('Failed to copy:', err);
            alert('Failed to copy to clipboard');
        });
    }
</script>
